(()=>{"use strict";var o={496:o=>{o.exports=require("vscode")}},e={};function t(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return o[n](r,r.exports,t),r.exports}var n={};(()=>{var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.deactivate=o.activate=void 0;const e=t(496);o.activate=function(o){let t=e.window.activeTextEditor,n=!0;const i=e.window.createStatusBarItem(e.StatusBarAlignment.Right,100);i.command="togglePHPBackground",i.tooltip="Toggle PHP Background Color",i.text=n?"ðŸŽ¨ On":"ðŸŽ¨ Off",o.subscriptions.push(i),i.show();let r=e.workspace.getConfiguration("phpCodeblockHighlighter"),a=r.get("backgroundColor","rgba(50, 120, 200, 0.5)"),c=e.window.createTextEditorDecorationType({backgroundColor:a});const s=e.commands.registerCommand("togglePHPBackground",(()=>{n=!n,i.text=n?"ðŸŽ¨ On":"ðŸŽ¨ Off",i.color=n?void 0:"rgba(255, 255, 255, 0.5)",g()}));function g(){if(!t)return;const o=[];if(n){let n=t.document.getText().split(/\n/),i=!1,r=null;for(let t=0;t<n.length;t++){let a=n[t];if(/\<\?php/i.test(a)&&(i=!0,r=new e.Position(t,a.search(/\<\?php/i))),i){let n=new e.Position(t,a.length);a.includes("?>")&&(n=new e.Position(t,a.indexOf("?>")+2),i=!1);const c={range:new e.Range(r,n),hoverMessage:"PHP block"};o.push(c)}}}t.setDecorations(c,o)}o.subscriptions.push(s),t&&g(),e.workspace.onDidChangeConfiguration((o=>{o.affectsConfiguration("phpCodeblockHighlighter.backgroundColor")&&(r=e.workspace.getConfiguration("phpCodeblockHighlighter"),a=r.get("backgroundColor","rgba(50, 120, 200, 0.5)"),c.dispose(),c=e.window.createTextEditorDecorationType({backgroundColor:a}),g())})),e.window.onDidChangeActiveTextEditor((o=>{t=o,o&&g()}),null,o.subscriptions),e.workspace.onDidChangeTextDocument((o=>{t&&o.document===t.document&&g()}),null,o.subscriptions)},o.deactivate=function(){}})(),module.exports=n})();